---
import ResumeLayout from "../../../../components/layout/ResumeLayout.astro";
import { backend } from "../../../../services/backend";
import { EducationPdfPreview } from "../../../../components/react/pdf/EducationPdfPreview";
import { SetSharedEducations } from "../../../../components/react/education/SetSharedEducations";
import { EditEducation } from "../../../../components/react/education/EditEducation";

const { id, educationId } = Astro.params;
if (!id || !educationId) return Astro.redirect("/404");

const education = await backend.getEducation(educationId);
---

<ResumeLayout>
  <div class="flex space-x-4">
    <SetSharedEducations educations={[education]} client:load />
    <EditEducation resumeId={id} client:load />
    <div class="w-80 form-card">
      <EducationPdfPreview client:load />
    </div>
  </div>
</ResumeLayout>
